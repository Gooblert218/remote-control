<!DOCTYPE html>
<html>
    <head>
        <title>Canvas - home</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <style>
            body { margin:0; background:#000; color:white; font-family:sans-serif; height:100vh; overflow:hidden; display:flex; flex-direction:column; }
            #lock-screen { position:fixed; inset:0; background:#111; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:15px; }
            #main-ui { display:none; flex-direction:column; height:100%; position:relative; }
            #nav {
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(34, 34, 34, 0.9);
                padding: 10px 20px;
                display: flex;
                gap: 15px;
                align-items: center;
                z-index: 200;
                border: 1px solid #444;
                border-radius: 50px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.5);
                backdrop-filter: blur(5px);
            }
            .slider-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2px;
            }
            .slider-container label {
                font-size: 9px;
                color: #aaa;
                font-weight: bold;
            }
            input[type=range] {
                width: 80px;
                accent-color: #28a745;
            }
            .btn-hide {
                background: #555;
            }
            #container { position:relative; flex-grow:1; background:#000; display: flex; align-items: center; justify-content: center; overflow: hidden; }
            .video-area { position: relative; width: 100%; height: 100%; aspect-ratio: 1920 / 1080; }
            video#remoteVideo {
                width: 100%;
                height: 100%;
                object-fit: contain;
                background: #000;
                position: absolute;
                top: 0;
                left: 0;
            }
            #overlay { position:absolute; top:0; left:0; width:100%; height:100%; z-index:100; cursor:crosshair; touch-action: none; }
            button {
                background:#28a745;
                color:white;
                border:none;
                padding: 12px 20px;
                border-radius: 25px;
                cursor:pointer;
                font-weight:bold;
                font-size: 14px;
                text-transform: uppercase;
            }
            .toggle-active { background: #dc3545 !important; }
            #status-msg { font-size:10px; color:#aaa; max-width: 80px; text-align: center; line-height: 1.2; }
        </style>
    </head>
    <body>
        <div id="lock-screen">
            <h1>System Locked</h1>
            <input type="password" id="passInput" placeholder="Access Code" style="padding:10px; background:#333; color:white; border:none; border-radius:4px;">
            <button id="loginBtn">UNLOCK</button>
        </div>
        <div id="main-ui">
            <div id="nav">
                <button id="lockToggle">CONTROLS</button>
                <div class="slider-container">
                    <label>QUALITY</label>
                    <input type="range" id="qualitySlider" min="1000" max="2500" step="100" value="1500">
                </div>
                <button onclick="socket.emit('reset_keys')" style="background:#ffc107; color:black;">RESET KEYS</button>
                <button class="btn-hide" onclick="document.getElementById('nav').style.display='none'">HIDE UI</button>
                <div id="status-msg">READY</div>
            </div>
            <div id="container">
                <div class="video-area" id="gameArea">
                    <video id="remoteVideo" autoplay playsinline muted></video>
                    <div id="overlay"></div>
                </div>
            </div>
        </div>
        <script src="https://cdn.socket.io/4.8.1/socket.io.min.js" crossorigin="anonymous"></script>
        <script src="./config.js"></script>
        <script src="./app.js"></script>
    </body>
</html>
